jQuery(function(a){var s=!1;function c(){var a=[{display_name:"Plugin",variable_name:"plugin",value:"woo-paystack"}];return wc_paystack_params.meta_order_id&&a.push({display_name:"Order ID",variable_name:"order_id",value:wc_paystack_params.meta_order_id}),wc_paystack_params.meta_name&&a.push({display_name:"Customer Name",variable_name:"customer_name",value:wc_paystack_params.meta_name}),wc_paystack_params.meta_email&&a.push({display_name:"Customer Email",variable_name:"customer_email",value:wc_paystack_params.meta_email}),wc_paystack_params.meta_phone&&a.push({display_name:"Customer Phone",variable_name:"customer_phone",value:wc_paystack_params.meta_phone}),wc_paystack_params.meta_billing_address&&a.push({display_name:"Billing Address",variable_name:"billing_address",value:wc_paystack_params.meta_billing_address}),wc_paystack_params.meta_shipping_address&&a.push({display_name:"Shipping Address",variable_name:"shipping_address",value:wc_paystack_params.meta_shipping_address}),wc_paystack_params.meta_products&&a.push({display_name:"Products",variable_name:"products",value:wc_paystack_params.meta_products}),a}function e(){var a=new Object;return wc_paystack_params.banks_allowed&&(a.banks=wc_paystack_params.banks_allowed),wc_paystack_params.cards_allowed&&(a.card_brands=wc_paystack_params.cards_allowed),a}function r(){if(s)return s=!1,!0;var r=a("form#payment-form, form#order_review"),t="false",_="false",p="",n="",m="";r.find("input.paystack_txnref").val(""),wc_paystack_params.bank_channel&&(t="true"),wc_paystack_params.card_channel&&(_="true"),wc_paystack_params.subaccount_code&&(p=wc_paystack_params.subaccount_code),wc_paystack_params.charges_account&&(n=wc_paystack_params.charges_account),wc_paystack_params.transaction_charges&&(m=Number(wc_paystack_params.transaction_charges));var u=Number(wc_paystack_params.amount);return PaystackPop.setup({key:wc_paystack_params.key,email:wc_paystack_params.email,amount:u,ref:wc_paystack_params.txnref,currency:wc_paystack_params.currency,callback:function(c){r.append('<input type="hidden" class="paystack_txnref" name="paystack_txnref" value="'+c.trxref+'"/>'),s=!0,r.submit(),a("body").block({message:null,overlayCSS:{background:"#fff",opacity:.6},css:{cursor:"wait"}})},bank:t,card:_,subaccount:p,bearer:n,transaction_charge:m,metadata:{custom_fields:c(),custom_filters:e()},onClose:function(){a(this.el).unblock()}}).openIframe(),!1}"embed"===wc_paystack_params.pay_page?function(){if(s)return s=!1,!0;var r=a("form#payment-form, form#order_review"),t=r.find("input.paystack_txnref"),_="false",p="false",n="",m="",u="";t.val(""),wc_paystack_params.bank_channel&&(_="true");wc_paystack_params.card_channel&&(p="true");wc_paystack_params.subaccount_code&&(n=wc_paystack_params.subaccount_code);wc_paystack_params.charges_account&&(m=wc_paystack_params.charges_account);wc_paystack_params.transaction_charges&&(u=Number(wc_paystack_params.transaction_charges));var o=Number(wc_paystack_params.amount);PaystackPop.setup({key:wc_paystack_params.key,email:wc_paystack_params.email,amount:o,ref:wc_paystack_params.txnref,currency:wc_paystack_params.currency,container:"paystackWooCommerceEmbedContainer",callback:function(c){r.append('<input type="hidden" class="paystack_txnref" name="paystack_txnref" value="'+c.trxref+'"/>'),a("#paystack_form a").hide(),s=!0,r.submit(),a("body").block({message:null,overlayCSS:{background:"#fff",opacity:.8},css:{cursor:"wait"}})},bank:_,card:p,subaccount:n,bearer:m,transaction_charge:u,metadata:{custom_fields:c(),custom_filters:e()},onClose:function(){a(this.el).unblock()}}).openIframe()}():(jQuery("#paystack-payment-button").click(function(){return r()}),jQuery("#paystack_form form#order_review").submit(function(){return r()}))});